{"version":3,"sources":["ng://pokedata/lib/pokedata.service.ts","ng://pokedata/lib/pokedata.component.ts","ng://pokedata/lib/pokedata.module.ts","ng://pokedata/lib/services/pokeapi.service.ts"],"names":["PokedataService","Injectable","args","providedIn","PokedataComponent","prototype","ngOnInit","Component","selector","template","styles","PokedataModule","NgModule","imports","declarations","exports","PokeapiService","http","this","listAll","_this","get","url","subscribe","response","pokemon","forEach","number","getNumberFromUrl","resource_uri","pokeList","sortPokemon","filter","slice","getPokemon","parseInt","replace","pokemonList","sort","a","b","HttpClient"],"mappings":"qUAAA,IAAAA,EAAA,WAOE,SAAAA,gCALDC,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,wJAHd,GCAAC,EAAA,WAaE,SAAAA,YAEAA,EAAAC,UAAAC,SAAA,iCAbDC,EAAAA,UAASL,KAAA,CAAC,CACTM,SAAU,eACVC,SAAU,iDAKVC,OAAQ,+CATV,GCAAC,EAAA,oDAGCC,EAAAA,SAAQV,KAAA,CAAC,CACRW,QAAS,GAETC,aAAc,CAACV,GACfW,QAAS,CAACX,SAPZ,GCAAY,EAAA,WAoBE,SAAAA,EACUC,GAAAC,KAAAD,KAAAA,WAJI,gDACH,UAMXD,EAAAX,UAAAc,QAAA,WAAA,IAAAC,EAAAF,KACEA,KAAKD,KAAKI,IAAyBH,KAAKI,IAAG,cACxCC,UACC,SAAAC,GACEA,EAASC,QAAQC,QAAQ,SAAAD,GACvBA,EAAQE,OAASP,EAAKQ,iBAAiBH,EAAQI,gBAEjDT,EAAKU,SAAWV,EAAKW,YAAYP,EAASC,SACvCO,OAAO,SAAAP,GAAW,OAAAA,EAAQE,OAAS,MACnCM,MAAM,EAAE,MAKnBjB,EAAAX,UAAA6B,WAAA,SAAWP,GACT,OAAOT,KAAKD,KAAKI,IAAOH,KAAKI,IAAG,YAAYK,IAGtCX,EAAAX,UAAAuB,0BAAiBN,GACvB,OAAOa,SAASb,EAAIc,QAAQ,eAAgB,QAGtCpB,EAAAX,UAAA0B,qBAAYM,GAClB,OAAOA,EAAYC,KAAK,SAACC,EAAGC,GAC1B,OAAQD,EAAEZ,OAASa,EAAEb,OAAS,GAAK,yBAnCxC1B,EAAAA,WAAUC,KAAA,CAAC,CACVC,WAAY,oDAbLsC,EAAAA,6IADT","sourcesContent":["import { Injectable } from '@angular/core';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PokedataService {\n\n  constructor() { }\n}\n","import { Component, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'lib-pokedata',\n  template: `\n    <p>\n      pokedata works!\n    </p>\n  `,\n  styles: []\n})\nexport class PokedataComponent implements OnInit {\n\n  constructor() { }\n\n  ngOnInit() {\n  }\n\n}\n","import { NgModule } from '@angular/core';\nimport { PokedataComponent } from './pokedata.component';\n\n@NgModule({\n  imports: [\n  ],\n  declarations: [PokedataComponent],\n  exports: [PokedataComponent]\n})\nexport class PokedataModule { }\n","import { Injectable } from '@angular/core';\nimport { HttpClient } from '@angular/common/http';\n\nimport { Observable } from 'rxjs';\n\ninterface PokeListResponse{\n  created: string,\n  modified: string,\n  name: string,\n  pokemon: any[],\n  resource_uri: string\n}\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class PokeapiService {\n  private url = '//dev.treinaweb.com.br/pokeapi/';\n  pokeList = [];\n\n  constructor(\n    private http: HttpClient\n  ) { }\n\n  listAll(){\n    this.http.get<PokeListResponse>(`${this.url}/pokedex/1`)\n      .subscribe(\n        response => {\n          response.pokemon.forEach(pokemon => {\n            pokemon.number = this.getNumberFromUrl(pokemon.resource_uri);\n          })\n          this.pokeList = this.sortPokemon(response.pokemon)\n            .filter(pokemon => pokemon.number < 1000)\n            .slice(0,9);\n        }\n      )\n  }\n\n  getPokemon(number: number): Observable<any>{\n    return this.http.get(`${this.url}/pokemon/${number}`);\n  }\n\n  private getNumberFromUrl(url){\n    return parseInt(url.replace(/.*\\/(\\d+)\\/$/, '$1'));\n  }\n\n  private sortPokemon(pokemonList){\n    return pokemonList.sort((a, b) => {\n      return (a.number > b.number ? 1 : -1);\n    })\n  }\n\n\n}\n"]}